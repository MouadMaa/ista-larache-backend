# Migration `20200930021213-rename-enum-year`

This migration has been generated by mouadmaa at 9/30/2020, 3:12:13 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
Begin;
CREATE TYPE "public"."Year_new" AS ENUM ('First', 'Second');
ALTER TABLE "public"."Class" ALTER COLUMN "year" DROP DEFAULT,
                            ALTER COLUMN "year" TYPE "Year_new" USING ("year"::text::"Year_new"),
                            ALTER COLUMN "year" SET DEFAULT 'First';
ALTER TYPE "Year" RENAME TO "Year_old";
ALTER TYPE "Year_new" RENAME TO "Year";
DROP TYPE "Year_old";
Commit

ALTER TABLE "public"."Class" ALTER COLUMN "year" SET DEFAULT E'First'
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200930013800-remove-date-birth-from-student-model..20200930021213-rename-enum-year
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -42,9 +42,9 @@
 }
 model Class {
   id          String    @id @default(cuid())
-  year        Year      @default(Premiere)
+  year        Year      @default(First)
   group       Group     @default(A)
   students    Student[]
   formation   Formation @relation(fields: [formationId], references: [id])
   formationId String
@@ -95,10 +95,10 @@
   Formation_Qualifiante
 }
 enum Year {
-  Premiere
-  Deuxieme
+  First
+  Second
 }
 enum Group {
   A
```


